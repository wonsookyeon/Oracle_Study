SELECT *
FROM EMP
WHERE SAL >(
    SELECT SAL
    FROM EMP
    WHERE ename='JONES');
    
SELECT *
FROM EMP
WHERE HIREDATE<(
    SELECT HIREDATE
    FROM EMP
    WHERE ENAME='JONES');
    
SELECT E.EMPNO, E.ENAME, E.JOB, SAL, D.DEPTNO, D.DNAME, D.LOC
FROM EMP E, DEPT D
WHERE E.DEPTNO=D.DEPTNO
    AND E.DEPTNO = 20
    AND E.SAL> (
        SELECT AVG(SAL)
        FROM EMP);
    
SELECT *
FROM EMP
WHERE DEPTNO IN(20,30);

SELECT DEPTNO
FROM EMP
WHERE DEPTNO IN (20,30);
    
    
SELECT *
FROM EMP
WHERE SAL IN (
    SELECT MAX(SAL)
    FROM EMP
    GROUP BY DEPTNO
    );
    
SELECT MAX(SAL)
FROM EMP
GROUP BY DEPTNO;

-- ANY()안에 있는 내용 중 가장 큰 수보다 작으면 추출
SELECT *
FROM EMP
WHERE SAL < ANY(
    SELECT SAL
    FROM EMP
    WHERE DEPTNO = 30
    );

-- ANY()안에 있는 내용 중 하나라도 만족하면 추출
SELECT *
FROM EMP
WHERE SAL > ANY(
    SELECT SAL
    FROM EMP
    WHERE DEPTNO = 30
    );

-- ALL()안에 있는 내용 모든수에 조건이 만족하면 추출   
SELECT *
FROM EMP
WHERE SAL>ALL(
     SELECT SAL
     FROM EMP
     WHERE DEPTNO = 30
     );


SELECT * FROM emp
WHERE (deptno, sal) in (
    select DEPTNO, max(sal)
    from emp
    group by DEPTNO
    );

-- FROM절에 사용하는 서브쿼리    
SELECT E.EMPNO, E.ENAME, E.DEPTNO, D.DNAME, D.LOC
FROM (SELECT * FROM EMP WHERE DEPTNO = 10) E,
    (SELECT * FROM DEPT) D
WHERE E.DEPTNO = D.DEPTNO;

-- TABLE 복사,생성
CREATE TABLE DEPT_TEMP
AS SELECT* FROM DEPT;

SELECT * FROM DEPT_TEMP;

-- 추가
INSERT INTO DEPT_TEMP(DEPTNO, DNAME, LOC)
VALUES (50, 'DATABASE', 'SEOUL');

INSERT INTO DEPT_TEMP -- 그대로 집어 넣을거면()생략가능
VALUES (60, 'JAVA', 'SUWON');

INSERT INTO DEPT_TEMP(DEPTNO,LOC) -- DNAME 은 NULL값으로 표시됨
VALUES (50, 'SEOUL');

COMMIT; -- 수정된 데이터 저장